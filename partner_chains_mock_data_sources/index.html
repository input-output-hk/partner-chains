<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Partner Chains Mocked Data Sources"><title>partner_chains_mock_data_sources - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="partner_chains_mock_data_sources" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (a1208bf76 2025-09-03)" data-channel="nightly" data-search-js="search-272972ce.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate partner_chains_mock_data_sources</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../partner_chains_mock_data_sources/index.html">partner_<wbr>chains_<wbr>mock_<wbr>data_<wbr>sources</a><span class="version">1.7.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#partner-chains-mocked-data-sources" title="Partner Chains Mocked Data Sources">Partner Chains Mocked Data Sources</a></li><li><a href="#usage" title="Usage">Usage</a></li></ul><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>partner_<wbr>chains_<wbr>mock_<wbr>data_<wbr>sources</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/partner_chains_mock_data_sources/lib.rs.html#1-90">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="partner-chains-mocked-data-sources"><a class="doc-anchor" href="#partner-chains-mocked-data-sources">§</a>Partner Chains Mocked Data Sources</h2>
<p>This crate provides mocked implementations of all data source interfaces used
by the Partner Chain toolkit’s components, that can be wired into a Substrate
node to avoid having access to a real data source like the Db-Sync data sources
provided by <code>partner_chain_db_sync_data_sources</code> crate.</p>
<h2 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h2>
<p><em>Important</em>: The mock data sources completely replace any interaction of the Partner
Chain with its Cardano main chain, making them suitable only for local
development and early exploration. They should not be used in production
of public testnets.</p>
<p>The mock data sources defined in this crate are meant to make it possible to run
a Partner Chain node with as little additional work as possible. Because of that,
most of them return either empty or constant data. The important exception is the
<a href="struct.AuthoritySelectionDataSourceMock.html" title="struct partner_chains_mock_data_sources::AuthoritySelectionDataSourceMock">AuthoritySelectionDataSourceMock</a> which can be fully configured with epoch data.
See each data source’s documentation to see if and how it can be configured.</p>
<p>The mock data sources should be created as part of the node code, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>partner_chains_mock_data_sources::<span class="kw-2">*</span>;
<span class="kw">use </span>std::error::Error;
<span class="kw">use </span>std::sync::Arc;

<span class="kw">pub fn </span>create_mock_data_sources()
-&gt; std::result::Result&lt;(), Box&lt;<span class="kw">dyn </span>Error + Send + Sync + <span class="lifetime">'static</span>&gt;&gt; {
   <span class="doccomment">/// The block data source is reused by other data sources
   </span><span class="kw">let </span>block = Arc::new(BlockDataSourceMock::new_from_env()<span class="question-mark">?</span>);

   <span class="kw">let </span>mc_hash             = Arc::new(McHashDataSourceMock::new(block.clone()));
   <span class="kw">let </span>sidechain_rpc       = Arc::new(SidechainRpcDataSourceMock::new(block));
   <span class="kw">let </span>authority_selection = Arc::new(AuthoritySelectionDataSourceMock::new_from_env()<span class="question-mark">?</span>);
   <span class="kw">let </span>native_token        = Arc::new(NativeTokenDataSourceMock::new());
   <span class="kw">let </span>block_participation = Arc::new(StakeDistributionDataSourceMock::new());
   <span class="kw">let </span>governed_map        = Arc::new(GovernedMapDataSourceMock::default());

   <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<p>After that they can be passed as dependencies to other Partner Chains toolkit components.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AuthoritySelectionDataSourceMock.html" title="struct partner_chains_mock_data_sources::AuthoritySelectionDataSourceMock">Authority<wbr>Selection<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mock authority selection data source that serves registration data in a round-robin fashion</dd><dt><a class="struct" href="struct.BlockDataSourceMock.html" title="struct partner_chains_mock_data_sources::BlockDataSourceMock">Block<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mock block data data source, for internal use by other mock data sources</dd><dt><a class="struct" href="struct.GovernedMapDataSourceMock.html" title="struct partner_chains_mock_data_sources::GovernedMapDataSourceMock">Governed<wbr>MapData<wbr>Source<wbr>Mock</a></dt><dd>Mocked governed map data source that serves constant data</dd><dt><a class="struct" href="struct.McHashDataSourceMock.html" title="struct partner_chains_mock_data_sources::McHashDataSourceMock">McHash<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mock MC reference hash data source</dd><dt><a class="struct" href="struct.MockEpochCandidates.html" title="struct partner_chains_mock_data_sources::MockEpochCandidates">Mock<wbr>Epoch<wbr>Candidates</a></dt><dd>Mock authority selection data for a single epoch</dd><dt><a class="struct" href="struct.MockRegistrationsConfig.html" title="struct partner_chains_mock_data_sources::MockRegistrationsConfig">Mock<wbr>Registrations<wbr>Config</a></dt><dd>Configuration of the mocked authority selection data source</dd><dt><a class="struct" href="struct.NativeTokenDataSourceMock.html" title="struct partner_chains_mock_data_sources::NativeTokenDataSourceMock">Native<wbr>Token<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mock native token data source that serves constant data</dd><dt><a class="struct" href="struct.SidechainRpcDataSourceMock.html" title="struct partner_chains_mock_data_sources::SidechainRpcDataSourceMock">Sidechain<wbr>RpcData<wbr>Source<wbr>Mock</a></dt><dd>Mock sidechain RPC data source returning constant data</dd><dt><a class="struct" href="struct.StakeDistributionDataSourceMock.html" title="struct partner_chains_mock_data_sources::StakeDistributionDataSourceMock">Stake<wbr>Distribution<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mocked stake distribution data source that returns empty data</dd><dt><a class="struct" href="struct.TokenBridgeDataSourceMock.html" title="struct partner_chains_mock_data_sources::TokenBridgeDataSourceMock">Token<wbr>Bridge<wbr>Data<wbr>Source<wbr>Mock</a></dt><dd>Mocked token bridge data source</dd></dl></section></div></main></body></html>