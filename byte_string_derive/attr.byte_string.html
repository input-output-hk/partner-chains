<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Proc macro that can generate multiple helper functions and traits for types that wrap an array, Vec, or BoundedVec of bytes. What code is generated by the macro is controlled by passing the following arguments:"><title>byte_string in byte_string_derive - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-0ce1a80b.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="byte_string_derive" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0-nightly (bc8215286 2025-05-20)" data-channel="nightly" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../byte_string_derive/index.html">byte_<wbr>string_<wbr>derive</a><span class="version">1.7.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">byte_<wbr>string</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate byte_<wbr>string_<wbr>derive</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">byte_string_derive</a></div><h1>Attribute Macro <span class="attr">byte_string</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/byte_string_derive/lib.rs.html#56-60">Source</a> </span></div><pre class="rust item-decl"><code>#[byte_string]</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Proc macro that can generate multiple helper functions and traits for types that wrap an
array, <a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>, or <a href="https://paritytech.github.io/polkadot-sdk/master/sp_core/bounded_vec/struct.BoundedVec.html">BoundedVec</a> of bytes. What code is generated by the macro is controlled
by passing the following arguments:</p>
<ul>
<li><code>debug</code>:
implements <a href="https://doc.rust-lang.org/nightly/core/fmt/macros/derive.Debug.html" title="derive core::fmt::macros::Debug">Debug</a> that uses hex to encode the bytes</li>
<li><code>hex_serialize</code>:
implements <code>serde::Serialize</code> that encode the bytes to a hex string as intermediate format.
This implementation is useful for saving bytes in Json and similar formats.</li>
<li><code>hex_deserialize</code>:
implements <code>serde::Deserialize</code> that decodes the type from a string containig hex-encoded
bytes. This implementation is useful for decoding hex data from Json and similar formats.</li>
<li><code>from_num</code>:
implements <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From"><code>From&lt;u64&gt;</code></a></li>
<li><code>from_bytes</code>:
implements either [<code>From&lt;&amp;[u8]&gt;</code>] or [<code>TryFrom&lt;&amp;[u8]</code>] depending on whether the the type
can be infallibly (<a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>) or fallibly (array, <a href="https://paritytech.github.io/polkadot-sdk/master/sp_core/bounded_vec/struct.BoundedVec.html">BoundedVec</a>) cast from a byte slice.</li>
<li><code>decode_hex</code>:
adds functions <code>decode_hex</code> and <code>decode_hex_unsafe</code> that decode the type from a <a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" title="primitive str">&amp;str</a>
and a <a href="https://doc.rust-lang.org/nightly/core/str/traits/trait.FromStr.html" title="trait core::str::traits::FromStr">FromStr</a> implementation equivalent to calling <code>decode_hex</code>.</li>
<li><code>to_hex_string</code>:
adds a function <code>to_hex_string</code> that returns the inner bytes as a hex string.</li>
<li><code>as_ref</code>: generates [<code>AsRef&lt;[u8]&gt;</code>] implementation</li>
</ul>
<p><em>Note</em>: As the code generated by this macro is meant to be <code>no_std</code>-compatible, some of the
options require <code>alloc</code> crate to be available in the scope where the code is generated.</p>
<h2 id="example"><a class="doc-anchor" href="#example">ยง</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">extern crate </span>alloc;
<span class="kw">use </span>byte_string_derive::byte_string;
<span class="kw">use </span>sp_core::{ ConstU32, bounded_vec::BoundedVec };

<span class="attr">#[byte_string(debug, hex_serialize, hex_deserialize, from_num, from_bytes, decode_hex, to_hex_string, as_ref)]
</span><span class="kw">pub struct </span>MyArrayBytes([u8; <span class="number">32</span>]);

<span class="attr">#[byte_string(debug, hex_serialize, hex_deserialize, from_num, from_bytes, decode_hex, to_hex_string, as_ref)]
</span><span class="kw">pub struct </span>MyVecBytes(Vec&lt;u8&gt;);

<span class="attr">#[byte_string(from_bytes)]
</span><span class="kw">pub struct </span>MyBoundedVecBytes(BoundedVec&lt;u8, ConstU32&lt;<span class="number">32</span>&gt;&gt;);</code></pre></div>
</div></details></section></div></main></body></html>