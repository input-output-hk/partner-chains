<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Partner Chain Committee Selection"><title>authority_selection_inherents - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="authority_selection_inherents" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (4b94758d2 2025-10-13)" data-channel="nightly" data-search-js="search-8d3311b9.js" data-stringdex-js="stringdex-828709d0.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate authority_selection_inherents</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../authority_selection_inherents/index.html">authority_<wbr>selection_<wbr>inherents</a><span class="version">1.8.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#partner-chain-committee-selection" title="Partner Chain Committee Selection">Partner Chain Committee Selection</a><ul><li><a href="#overview" title="Overview">Overview</a></li><li><a href="#usage" title="Usage">Usage</a></li></ul></li></ul><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>authority_<wbr>selection_<wbr>inherents</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/authority_selection_inherents/lib.rs.html#1-163">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="partner-chain-committee-selection"><a class="doc-anchor" href="#partner-chain-committee-selection">§</a>Partner Chain Committee Selection</h2>
<p>Inherent data provider and selection logic for Partner Chain committee selection.</p>
<h3 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h3>
<p>This crate provides an IDP and all types necessary for a Partner Chain to select
block producer committees using data sourced from Cardano smart contracts.</p>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3><h4 id="prerequisites"><a class="doc-anchor" href="#prerequisites">§</a>Prerequisites</h4>
<p>This crate is intended to work with <code>pallet_session_validator_management</code>. See
the pallet’s documentation for instructions how to add it to you runtime. Your
pallet should be configured with <a href="enum.CommitteeMember.html" title="enum authority_selection_inherents::CommitteeMember">CommitteeMember</a> as its <code>CommitteeMember</code>,
using the <code>CrossChainPublic</code> and <code>SessionKeys</code> defined described in the pallet’s
documentation.</p>
<p>Additionally <a href="struct.AriadneInherentDataProvider.html" title="struct authority_selection_inherents::AriadneInherentDataProvider">AriadneInherentDataProvider</a> needs access to a data source
implementing <a href="trait.AuthoritySelectionDataSource.html" title="trait authority_selection_inherents::AuthoritySelectionDataSource">AuthoritySelectionDataSource</a>. A Db-Sync-based implementation is
provided by the <code>partner_chains_db_sync_data_sources</code> crate.</p>
<h4 id="adding-to-the-node"><a class="doc-anchor" href="#adding-to-the-node">§</a>Adding to the node</h4><h5 id="implementing-runtime-api"><a class="doc-anchor" href="#implementing-runtime-api">§</a>Implementing runtime API</h5>
<p>Implement the [SessionValidatorManagementApi] for your runtime. Each API method has
a corresponding method in the pallet that should be used for that purpose. Refer to
the demo runtime for an example.</p>
<h5 id="add-the-inherent-data-provider"><a class="doc-anchor" href="#add-the-inherent-data-provider">§</a>Add the inherent data provider</h5>
<p>Wire the <a href="struct.AriadneInherentDataProvider.html" title="struct authority_selection_inherents::AriadneInherentDataProvider">AriadneInherentDataProvider</a> into your inherent data provider stack. The same
constructor <a href="struct.AriadneInherentDataProvider.html#method.new" title="associated function authority_selection_inherents::AriadneInherentDataProvider::new">AriadneInherentDataProvider::new</a> should be used for both proposing and
validating blocks. Refer to the demo node implementation for an example of how to wire
it correctly into a node.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AriadneInherentDataProvider.html" title="struct authority_selection_inherents::AriadneInherentDataProvider">Ariadne<wbr>Inherent<wbr>Data<wbr>Provider</a></dt><dd>Inherent data provider providing inputs for authority selection.</dd><dt><a class="struct" href="struct.AriadneParameters.html" title="struct authority_selection_inherents::AriadneParameters">Ariadne<wbr>Parameters</a></dt><dd>Ariadne selection algorithm parameters owned by the Partner Chain Governance Authority.</dd><dt><a class="struct" href="struct.AuthoritySelectionInputs.html" title="struct authority_selection_inherents::AuthoritySelectionInputs">Authority<wbr>Selection<wbr>Inputs</a></dt><dd>Inherent data type provided by <a href="struct.AriadneInherentDataProvider.html" title="struct authority_selection_inherents::AriadneInherentDataProvider">crate::AriadneInherentDataProvider</a>.
The part of data for selection of authorities that comes from the main chain.
It is unfiltered, so the selection algorithm should filter out invalid candidates.</dd><dt><a class="struct" href="struct.RegisterValidatorSignedMessage.html" title="struct authority_selection_inherents::RegisterValidatorSignedMessage">Register<wbr>Validator<wbr>Signed<wbr>Message</a></dt><dd>Signed Message of the Authority Candidate to register
It’s ToDatum implementation has to produce datum that has to match main chain structure,
because it will be hashed and signed for signature verification.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.CommitteeMember.html" title="enum authority_selection_inherents::CommitteeMember">Committee<wbr>Member</a></dt><dd>Type representing committee members, either permissioned or registered</dd><dt><a class="enum" href="enum.PermissionedCandidateDataError.html" title="enum authority_selection_inherents::PermissionedCandidateDataError">Permissioned<wbr>Candidate<wbr>Data<wbr>Error</a></dt><dd>Permissioned candidate data error type</dd><dt><a class="enum" href="enum.RegistrationDataError.html" title="enum authority_selection_inherents::RegistrationDataError">Registration<wbr>Data<wbr>Error</a></dt><dd>Registration data error type</dd><dt><a class="enum" href="enum.StakeError.html" title="enum authority_selection_inherents::StakeError">Stake<wbr>Error</a></dt><dd>Stake validation error type</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.AuthoritySelectionDataSource.html" title="trait authority_selection_inherents::AuthoritySelectionDataSource">Authority<wbr>Selection<wbr>Data<wbr>Source</a></dt><dd>Queries about the Authority Candidates</dd><dt><a class="trait" href="trait.CandidateValidationApi.html" title="trait authority_selection_inherents::CandidateValidationApi">Candidate<wbr>Validation<wbr>Api</a></dt><dd>Runtime API trait for candidate validation</dd><dt><a class="trait" href="trait.MaybeFromCandidateKeys.html" title="trait authority_selection_inherents::MaybeFromCandidateKeys">Maybe<wbr>From<wbr>Candidate<wbr>Keys</a></dt><dd>Trait to try extract implementing type from <a href="../sidechain_domain/struct.CandidateKeys.html" title="struct sidechain_domain::CandidateKeys">CandidateKeys</a>.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.filter_trustless_candidates_registrations.html" title="fn authority_selection_inherents::filter_trustless_candidates_registrations">filter_<wbr>trustless_<wbr>candidates_<wbr>registrations</a></dt><dd>Get the valid trustless candidates from the registrations from inherent data</dd><dt><a class="fn" href="fn.select_authorities.html" title="fn authority_selection_inherents::select_authorities">select_<wbr>authorities</a></dt><dd>Selects authorities using the Ariadne selection algorithm and data sourced from Partner Chains smart contracts on Cardano.
Seed is constructed from the MC epoch nonce and the sidechain epoch.</dd><dt><a class="fn" href="fn.validate_permissioned_candidate_data.html" title="fn authority_selection_inherents::validate_permissioned_candidate_data">validate_<wbr>permissioned_<wbr>candidate_<wbr>data</a></dt><dd>Validates Account keys and Partner Chain public keys of <a href="../sidechain_domain/struct.PermissionedCandidateData.html" title="struct sidechain_domain::PermissionedCandidateData">PermissionedCandidateData</a>.</dd><dt><a class="fn" href="fn.validate_registration_data.html" title="fn authority_selection_inherents::validate_registration_data">validate_<wbr>registration_<wbr>data</a></dt><dd>Validates registration data provided by the authority candidate.</dd><dt><a class="fn" href="fn.validate_stake.html" title="fn authority_selection_inherents::validate_stake">validate_<wbr>stake</a></dt><dd>Validates stake delegation. Stake must be known and positive.</dd></dl></section></div></main></body></html>